{% if include.style == "small" %}
  {% assign width = 250 %}
{% else %}
  {% assign width = 350 %}
{% endif %}

<div class="card" style="--width: {{ width }}px">
  {% assign placeholder = "images/placeholder.svg" | relative_url %}

  {% if include.link %}
    {% assign tag = "a" %}
  {% else %}
    {% assign tag = "span" %}
  {% endif %}

  <{{ tag }}
    href="{{ include.link | relative_url }}"
    class="card_image"
  >
    <img
      src="{{ include.image | relative_url }}"
      onerror="this.src = '{{ placeholder }}'; this.onerror = null;"
      loading="lazy"
    >
  </{{ tag }}>

  <div class="card_text">

    {% if include.name %}
      <{{ tag }}
        href="{{ include.link | relative_url }}"
        {% if include.tooltip %}data-tooltip="{{ include.tooltip }}"{% endif %}
        class="card_name"
      >
        {{- include.name -}}
      </{{ tag }}>
    {% endif %}

    {% if include.description %}
      {% assign firstchar = include.description | slice: 0 %}
      {%- if firstchar != "<" -%}
      <p>
      {%- endif -%}
        {{- include.description -}}
      {%- if firstchar != "<" -%}
      </p>
      {%- endif -%}
    {% endif %}

    {% if include.tag or include.repo %}
      {% include tags.html tags=include.tags repo=include.repo %}      
    {% endif %}

  </div>
</div>
